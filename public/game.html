<!DOCTYPE html>
<html lang="eng">
<head>
<!--  <script type="module" src="https://cdn.jsdelivr.net/npm/phaser@3.87.0/dist/phaser-arcade-physics.min.js"></script>-->

  <title>Princeps</title>
  <style>
    /*body { background-image: url("/assets/background_game.png"); background-size: cover; background-repeat: no-repeat; background-position: center; height: 100vh;}*/
    body {
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      height: 100vh;
    }
    .lobbyLabel { font-size: 24px; color: #FFC; -webkit-text-stroke: 1px #660; font-family: sans-serif}
    .inputStyle { background: transparent; border: none; }
  </style>
  <script>
    window.addEventListener('load', () => {
      const index = Math.floor(Math.random() * 5);
      const bgName = `/assets/background_game_0${index}.png`
      console.log(bgName)

      document.body.style.backgroundImage = `url(${bgName})`;

      document.getElementById('code').innerText = `Match Code: ${localStorage.getItem('princeps_token')}`;
    });
  </script>
</head>
<body>

<div class="lobbyLabel" id="code">Match Code: xxx</div>
<!-- Since import maps are not yet supported by all browsers, its is
    necessary to add the polyfill es-module-shims.js -->
<script async src="https://unpkg.com/es-module-shims@1.7.3/dist/es-module-shims.js"></script>
<script type="importmap">
        {
            "imports": {
                "phaser": "https://cdn.jsdelivr.net/npm/phaser@3.88.2/dist/phaser.esm.js",
                "socket.io-client": "https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.8.1/socket.io.esm.min.js",
                "rozsa-mogs-client": "/scripts/rozsa-mogs-client/dist/rozsa-mogs-client.js"
            }
        }
</script>
<script type="module">
  import { Princeps } from '/dist/princeps.js';
  const port = +localStorage.getItem('princeps_port');
  const address = 'princeps.vrozsa.com';
  // const address = 'localhost';
  // const port = 8090;

  const game = new Princeps();
  game.start(address, port);
</script>

<input type="text" id="chatInput" class="inputStyle" disabled/>

</body>
</html>
